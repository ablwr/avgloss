{"version":3,"sources":["webpack:///./src/templates/collection.js"],"names":["Card","props","to","sx","textDecoration","backgroundColor","borderWidth","borderStyle","borderColor","padding","position","zIndex","overflow","width","display","outline","marginBottom","hasSuccessor","boxShadow","transition","color","border","borderBottomColor","my","py","fontSize","title","mt","lineHeight","description","CollectionTemplate","render","node","siteTitle","this","data","site","siteMetadata","collection","articles","Array","isArray","sections","flatMap","section","icon","jsx","icons","size","location","mb","texts","allCollectionsText","px","flexDirection","pt","flex","alignItems","justifyContent","pb","length","articlesInCollectionZeroText","articlesInCollectionOneText","articlesInCollectionTwoText","articlesInCollectionMultipleText","ml","listStyleType","map","articleNode","index","file","childMarkdownRemark","article","key","fields","slug","frontmatter","hasPredecessor","articlesOfSection","filter","Fragment","id","href","cursor","React","Component","pageQuery"],"mappings":"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","file":"component---src-templates-collection-js-fccf92e587aa6aba157f.js","sourcesContent":["/** @jsx jsx */\nimport { jsx } from \"theme-ui\"\nimport React from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport slug from \"slug\"\nimport * as icons from \"../utils/icons\"\n\nfunction concatArticles(node) {\n  return [\n    ...(Array.isArray(node.articles) ? node.articles : []),\n    ...(Array.isArray(node.sections)\n      ? node.sections.flatMap((section) =>\n          Array.isArray(section.articles) ? section.articles : []\n        )\n      : []),\n  ]\n}\n\nfunction Card(props) {\n  return (\n    <Link\n      to={props.to}\n      sx={{ textDecoration: \"none\", \"&:hover\": { textDecoration: \"none\" } }}\n    >\n      <div\n        sx={{\n          backgroundColor: \"paperBackgroundColor\",\n          borderWidth: 1,\n          borderStyle: \"solid\",\n          borderColor: \"rgba(136,149,162,0.2)\",\n          padding: [3, 4],\n          position: \"relative\",\n          zIndex: \"3\",\n          textDecoration: \"none\",\n          overflow: \"hidden\",\n          width: \"100%\",\n          display: \"block\",\n          outline: \"none\",\n          marginBottom: props.hasSuccessor ? 0 : 3,\n          boxShadow: \"8px 8px 0 0 pink\",\n          transition:\n            \"border .15s linear, transform .15s linear, background-color .15s linear, box-shadow .15s linear, opacity .15s linear, transform .15s linear, box-shadow .15s linear\",\n          color: \"paperHeadingColor\",\n          \"&:hover\": {\n            border: \"1px solid rgba(136,149,162,0.2)\",\n            backgroundColor: \"paperHoverBackgroundColor\",\n            color: \"paperHoverHeadingColor\",\n            borderBottomColor: props.hasSuccessor\n              ? \"transparent\"\n              : \"rgba(136,149,162,0.2)\",\n          },\n        }}\n      >\n        <h3 sx={{ my: 0, py: 0, color: \"inherit\", fontSize: [4, 5] }}>\n          {props.title}\n        </h3>\n        <div\n          sx={{\n            mt: 2,\n            color: \"paperDescriptionColor\",\n            fontSize: [1, 2],\n            lineHeight: \"body\",\n          }}\n        >\n          {props.description}\n        </div>\n      </div>\n    </Link>\n  )\n}\n\nclass CollectionTemplate extends React.Component {\n  render() {\n    const siteTitle = this.props.data.site.siteMetadata.title\n    const collection = this.props.data.collection\n    const articles = concatArticles(collection)\n\n    const icon = collection.icon\n      ? jsx(\n          icons[collection.icon],\n          { sx: { color: \"iconColor\" }, size: \"4rem\" },\n          null\n        )\n      : null\n\n    return (\n      <Layout location={this.props.location} title={siteTitle}>\n        <SEO title={collection.title} description={collection.description} />\n        <p sx={{ mt: 1, mb: 2, py: 0 }}>\n          <Link\n            to=\"/\"\n            sx={{\n              color: \"breadcrumbLinkTextColor\",\n              boxShadow: \"none\",\n              fontSize: 2,\n              \"&:hover\": {\n                color: \"breadcrumbHoverLinkTextColor\",\n              },\n            }}\n          >\n            {this.props.data.site.siteMetadata.texts.allCollectionsText}\n          </Link>{\" \"}\n          <span sx={{ color: \"breadcrumbTextColor\", fontSize: 2 }}>\n            &rsaquo;\n          </span>{\" \"}\n          <span sx={{ color: \"breadcrumbTextColor\", fontSize: 2 }}>\n            {collection.title}\n          </span>\n        </p>\n        <article\n          sx={{\n            backgroundColor: \"collectionBackgroundColor\",\n            borderColor: \"transparent\",\n            borderStyle: \"solid\",\n            px: [2, 3],\n            py: 2,\n            mb: 6,\n          }}\n        >\n          <div\n            sx={{\n              display: \"flex\",\n              flexDirection: [\"column\", \"row\"],\n              pt: [0, 3],\n            }}\n          >\n            <div\n              sx={{\n                flex: 1,\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: [\"flex-start\", \"center\"],\n                py: [3, 0],\n              }}\n            >\n              {icon}\n            </div>\n            <div sx={{ flex: 4 }}>\n              <header>\n                <h2\n                  sx={{\n                    my: 0,\n                    py: 0,\n                    color: \"collectionHeading\",\n                    fontSize: 7,\n                  }}\n                >\n                  {collection.title}\n                </h2>\n              </header>\n              <p\n                sx={{\n                  pt: 2,\n                  pb: 0,\n                  mb: 0,\n                  color: \"collectionDescription\",\n                }}\n              >\n                {collection.description}\n              </p>\n              <small sx={{ color: \"collectionDescription\" }}>\n                {articles.length}{\" \"}\n                {(() => {\n                  switch (articles.length) {\n                    case 0:\n                      return this.props.data.site.siteMetadata.texts\n                        .articlesInCollectionZeroText\n                    case 1:\n                      return this.props.data.site.siteMetadata.texts\n                        .articlesInCollectionOneText\n                    case 2:\n                      return this.props.data.site.siteMetadata.texts\n                        .articlesInCollectionTwoText\n                    default:\n                      return this.props.data.site.siteMetadata.texts\n                        .articlesInCollectionMultipleText\n                  }\n                })()}\n              </small>\n            </div>\n          </div>\n          <ul sx={{ ml: 0, mt: 5, listStyleType: \"none\" }}>\n            {(Array.isArray(collection.articles)\n              ? collection.articles\n              : []\n            ).map((articleNode, index) => {\n              // This happens when a collection points to an article file which\n              // does not exist\n              if (\n                !articleNode ||\n                !articleNode.file ||\n                !articleNode.file.childMarkdownRemark\n              ) {\n                return null\n              }\n\n              const article = articleNode.file.childMarkdownRemark\n              if (!article) return null\n              return (\n                <li key={article.fields.slug} sx={{ my: 0, py: 0 }}>\n                  <Card\n                    to={article.fields.slug}\n                    title={article.frontmatter.title}\n                    description={article.frontmatter.description}\n                    hasPredecessor={index > 0}\n                    hasSuccessor={index < collection.articles.length - 1}\n                  />\n                </li>\n              )\n            })}\n          </ul>\n          {Array.isArray(collection.sections) &&\n            collection.sections.map((section) => {\n              const articlesOfSection = Array.isArray(section.articles)\n                ? section.articles\n                    .filter(({ file }) => file)\n                    .map(({ file }) => file.childMarkdownRemark)\n                : []\n\n              // skip sections without articles\n              if (articlesOfSection.length === 0) return null\n\n              return (\n                <React.Fragment key={section.id}>\n                  {/* Id must be set for navigation */}\n                  <a\n                    id={slug(section.id)}\n                    href={\"#\" + slug(section.id)}\n                    sx={{\n                      cursor: \"default\",\n                      \":hover\": { textDecoration: \"none\" },\n                    }}\n                  >\n                    <h3 sx={{ fontSize: 3, mb: 3, color: \"initial\", }}>\n                      {section.title}\n                    </h3>\n                  </a>\n                  <ul sx={{ ml: 0, listStyleType: \"none\" }}>\n                    {articlesOfSection.map((article, index) =>\n                      article ? (\n                        <li key={article.fields.slug} sx={{ my: 0, py: 0 }}>\n                          <Card\n                            to={article.fields.slug}\n                            title={article.frontmatter.title}\n                            description={article.frontmatter.description}\n                            hasPredecessor={index > 0}\n                            hasSuccessor={index < articlesOfSection.length - 1}\n                          />\n                        </li>\n                      ) : null\n                    )}\n                  </ul>\n                </React.Fragment>\n              )\n            })}\n        </article>\n      </Layout>\n    )\n  }\n}\n\nexport default CollectionTemplate\n\nexport const pageQuery = graphql`\n  fragment CollectionArticleFragment on File {\n    childMarkdownRemark {\n      excerpt\n      fields {\n        slug\n      }\n      parent {\n        id\n        ... on File {\n          name\n          sourceInstanceName\n        }\n      }\n      frontmatter {\n        title\n        description\n      }\n    }\n  }\n\n  query CollectionArticlesByCollectionId($collectionId: String!) {\n    site {\n      siteMetadata {\n        title\n        texts {\n          allCollectionsText\n          articlesInCollectionZeroText\n          articlesInCollectionOneText\n          articlesInCollectionTwoText\n          articlesInCollectionMultipleText\n        }\n      }\n    }\n    collection: collectionsYaml(id: { eq: $collectionId }) {\n      id\n      title\n      description\n      icon\n      articles {\n        file {\n          ...CollectionArticleFragment\n        }\n      }\n      sections {\n        id\n        title\n        articles {\n          file {\n            ...CollectionArticleFragment\n          }\n        }\n      }\n      fields {\n        slug\n      }\n    }\n  }\n`\n"],"sourceRoot":""}